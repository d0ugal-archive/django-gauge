{% extends "gauge/base.html" %}

{% block extrahead %}
  <script type="text/javascript" src="{{ STATIC_URL }}dashboard.js" charset="utf-8"></script>
{% endblock %}

{% block content %}

  {% for suite in suites %}

    <div class="suite">

      <h2 id="{{ suite.id }}">{{ suite.description }} </h2>
      <h4 class="key">
        {{ suite.benchmark_runs }} Runs Each On Python {{ suite.python_version.name }}<br/>
        <span class="control">{{ suite.repository.url }}<span class="branch">{{ suite.control }}</span></span>
        <strong>vs</strong>
        <span class="experiment">{{ suite.repository.url }}<span class="branch">{{ suite.experiment }}</span></span>
      </h4>

      {% for benchmark in suite.significant_benchmarks %}

        <div class="metric benchmark has-sparkline">

          <div class="summary">
            <p>
            <br/>
            {{ benchmark.name }}
            </p>
          </div>

          <div class="sparkline" id="spark{{ forloop.counter0 }}" data-metric="{{ benchmark.name }}" data-suite="{{ suite.id }}" data-significant="{% if significant %}1{% else %}0{% endif %}"></div>

        </div>

      {% endfor %}

    </div>

  {% endfor %}

{% endblock %}
